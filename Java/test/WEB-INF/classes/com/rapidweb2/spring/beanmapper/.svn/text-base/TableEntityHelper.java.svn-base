/**
 * 项目名称：SanXine.com善行网，“打造国内有车一族的第一社区”
 * 版权申明：sanxine.com所有，未经许可不得在任何软件中以任何形式使用全部或部分代码，不得更改本项目的代码。
 * 文件名称：EntityProperties.java
 * 创建时间：2011-4-25-下午05:04:14
 * 创建用户：chis(chis123@qq.com)
 * 文件描述：
 * 修改记录：
 *   
 */
package com.rapidweb2.spring.beanmapper;

import java.util.HashMap;
import java.util.Map;


/**
 * 表实体辅助类
 * @author chis(chis123@qq.com)
 */
public class TableEntityHelper {
	/** 保存实体类属性定义的仓库 */
	public final static Map<Class<?>,TableEntity<?>> caches = new HashMap<Class<?>,TableEntity<?>>(); 
	
	/** 获得表实体的映射定义 */
	@SuppressWarnings("unchecked")
	public static <T> TableEntity<T> get( Class<T> beanType ) {
		TableEntity<T> entity = (TableEntity<T>) caches.get(beanType);

		if( entity==null ){ // 如果缓存不存在则构建之
			entity = TableEntity.of(beanType);
			// 添加到缓冲中
			if( entity!=null ) caches.put(entity.getEntityType(), entity);
		}
		
		return entity;
	}
	
}
