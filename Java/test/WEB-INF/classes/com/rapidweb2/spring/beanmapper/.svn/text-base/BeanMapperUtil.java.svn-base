/**
 * 项目名称：SanXine.com善行网，“打造国内有车一族的第一社区”
 * 版权申明：sanxine.com所有，未经许可不得在任何软件中以任何形式使用全部或部分代码，不得更改本项目的代码。
 * 文件名称：BeanMapperUtil.java
 * 创建时间：2011-4-26-下午04:48:02
 * 创建用户：chis(chis123@qq.com)
 * 文件描述：
 * 修改记录：
 *   
 */
package com.rapidweb2.spring.beanmapper;

import java.util.ArrayList;
import java.util.List;

import com.rapidweb2.common.util.StringUtil;

/**
 * 辅助工具类
 * 
 * @author chis(chis123@qq.com)
 */
public class BeanMapperUtil {
	/**
	 * 转换属性串和字段串混合使用时候的属性表
	 * @param cols
	 * @param te
	 * @return
	 */
	public static List<String> toColumns(String cols,TableEntity<?> te) {
		if (StringUtil.isBlank(cols)) return null;
		List<String> columns = new ArrayList<String>();
		for (String s : cols.split(",")) {
			s = s.trim();
			if( s.startsWith("{") && s.endsWith("}") ){ 
				// 发现是属性，则需要转换
				s = te.getColumnName(s.substring(1,s.length()-1));
				if( !StringUtil.isBlank(s) ) columns.add(s);
			}
			else columns.add(s);
		}
		return columns;
	}
}
