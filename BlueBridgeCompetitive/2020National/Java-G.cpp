#include <bits/stdc++.h>
using namespace std;
int main() {
    int m, n, d, w;
    cin >> m >> n >> d >> w;
    vector<int> l(m + 1), r(n + 1);
    for (int i = 1; i <= m; i++) cin >> l[i];
    for (int j = 1; j <= n; j++) cin >> r[j];
    vector<vector<vector<double>>> dp(m + 1, vector<vector<double>>(n + 1, vector<double>(2)));
    double half = 0.25 * w * w;
    dp[1][0][0] = sqrt(l[1] * l[1] + half);
    dp[0][1][1] = sqrt(r[1] * r[1] + half);
    for (int i = 1; i <= m; i++) {
        dp[i][0][0] = dp[1][0][0] + l[i] - l[1];
        dp[i][0][1] = DBL_MAX;
    }
    for (int j = 1; j <= n; j++) {
        dp[0][j][1] = dp[0][1][1] + r[j] - r[1];
        dp[0][j][0] = DBL_MAX;
    }
    for (int i = 1; i <= m; i++) {
        for (int j = 1; j <= n; j++) {
            double dis = sqrt(1.0 * (l[i] - r[j]) * (l[i] - r[j]) + w * w);
            dp[i][j][0] = min(dp[i - 1][j][0] + l[i] - l[i - 1], dp[i - 1][j][1] + dis);
            dp[i][j][1] = min(dp[i][j - 1][1] + r[j] - r[j - 1], dp[i][j - 1][0] + dis);
        }
    }
    dp[m][n][0] += sqrt((d - l[m]) * (d - l[m]) + half);
    dp[m][n][1] += sqrt((d - r[n]) * (d - r[n]) + half);
    cout << fixed << setprecision(2) << min(dp[m][n][0], dp[m][n][1]) << endl;
    system("pause");
    return 0;
}
/*
题目描述 Java2020年B组G题 画廊
小蓝办了一个画展，在一个画廊左右两边陈列了他自己的作品。为了使画展更有意思，小蓝没有等距陈列自己的作品，而是按照更有艺术感的方式陈列。
在画廊的左边陈列了 L 幅作品，在画廊的右边陈列了 R 幅作品，左边的作品距离画廊的起点依次为 u_1, u_2, ・ ・ ・ , u_Lu 
，右边的作品距离画廊起点依次为 v_1, v_2, ・ ・ ・ ,v_Rv 
每周，小蓝要整理一遍自己的每一幅作品。整理一幅作品的时间是固定的，但是要带着沉重的工具。从一幅作品到另一幅作品之间的距离为直线段的长度。
小蓝从画廊的起点的正中央（左右两边的中点）出发，整理好每一幅画，最终到达画廊的终点的正中央。已知画廊的宽为 ww。
请问小蓝最少带着工具走多长的距离？
3 3 10 2
1 3 8
2 4 6
14.71

450 130 100000 4373
33 502 773 942 1091 1440 1799 1980 2050 2056 2122 2328 2629 3206 3437 3559 3590 3893 4140 4253 4703 4875 5182 5607 5723 6276 6423 6617 6681 6881 6978 7135 7511 7626 7634 7747 7817 8203 8216 8370 8739 8949 9314 9774 9930 9941 9991 10303 10482 10981 11055 11147 11151 11213 11349 11509 11655 11963 12099 12304 12575 12974 13168 13301 13772 13902 13966 14059 14544 15159 15626 15818 15874 16179 16330 16431 16566 16757 16807 16991 17207 17220 17853 18762 18952 19075 19096 20137 20383 20697 20843 20975 21275 21839 22474 22649 22720 22967 23218 23406 23738 24151 24610 24756 24859 25325 25400 25716 25724 25824 26257 26384 26628 26694 26975 27041 27042 27169 27367 27422 27678 27993 28016 28568 28819 29349 29416 29635 29652 30225 30457 30619 32000 32317 32413 32586 32597 33015 33156 33695 34012 34290 34577 34670 34817 34901 34971 35458 35697 36141 36235 36451 36500 36706 36929 37533 37796 37940 37945 38010 38076 38093 38653 38667 39173 39536 39809 39821 39905 40495 40538 40625 40690 40806 40906 41384 41676 42122 42229 42371 42567 42654 42845 43093 43176 43181 43283 43507 43593 43607 43712 43885 44005 44494 45182 45762 45783 46070 46653 46893 47152 47643 47848 47946 48107 48392 48560 48709 48838 48891 49917 50104 50406 50664 50897 50962 51291 51426 51495 51573 52563 52777 52827 52999 53299 53354 53649 54007 54312 54785 54848 55247 55496 56013 56021 56509 57002 57279 57406 57576 57817 57957 57967 58216 58286 58329 59332 59401 60060 60117 60121 60498 61645 61862 62036 62167 62261 62269 62573 62576 62656 62857 63262 63269 63290 63428 63635 63999 64009 64015 64264 64691 64787 64880 65230 65264 65294 65555 65699 65832 65851 65874 66197 66459 66803 66928 67038 67075 67170 67226 67322 67570 67799 67988 68379 68421 68581 68928 69189 69387 69484 69523 69544 69653 69812 69844 69981 70154 70287 70457 70470 71019 71483 71557 71575 71614 72057 72358 72540 72563 72831 73009 73130 73134 73568 74726 74733 74743 75173 75377 75767 75980 76584 76694 76923 77273 77375 77482 78216 78480 78522 78652 78778 79026 79329 79739 79948 80594 80639 80795 80807 80840 81525 81626 81857 82136 82678 82684 83030 83078 83228 83318 83418 83440 83869 83984 84012 84095 84232 84802 85051 85524 85696 85794 86229 86278 86574 86613 86796 86974 86999 87090 87594 87852 87972 88244 88620 88859 89169 89264 89291 89503 89803 90012 90100 90220 90239 90253 90407 90578 90587 90845 91004 91211 91366 91643 91806 91893 92074 92352 92457 92605 92795 93335 93377 93516 93608 94454 94499 94588 95047 95063 95085 95228 95798 95889 96211 96504 96560 96620 96653 96693 96847 97000 97504 97573 97685 97703 98046 98155 98497 98601 98785 99171 99303 99390 99416 99468 99472 99618 5068 5092 6394 6395 7887 8589 9542 9853 10980 12117 12816 13090 13474 13699 14329 14533 16071 16939 17305 18505 19275 19299 19390 19886 20709 20956 21786 21809 24082 25068 25187 27936 28254 28469 29452 30039 30281 31126 31818 31995 32129 32897 33157 33596 34325 35609 36923 38831 39279 39304 39714 40489 40602 41087 41273 41643 41737 42623 42902 43084 43160 43365 43576 43647 44453 44779 45252 46271 46921 48438 49792 50308 52096 52557 54457 54460 54749 54884 55129 56262 57161 57283 58843 60183 60254 60889 60916 61390 61859 64134 64402 64745 66854 67040 68323 69992 71230 73017 73979 74799 76806 76859 77356 77714 78525 78729 79348 79790 80900 81864 82491 82511 83478 83669 83893 84787 89013 91640 92046 92444 93025 94039 94253 96203 96851 97351 97481 98305 98344 99294
*/